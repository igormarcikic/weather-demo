(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{101:function(e,t,a){e.exports=a(123)},106:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),o=a.n(l),c=(a(106),a(23)),i=a(13),u=function(e){return{type:"ADD_USER",payload:e}},s=function(e,t){switch(t.type){case"ADD_USER":return Object(c.a)({},e,{value:t.payload,isLoading:!1});case"LOG_OUT":return Object(c.a)({},e,{value:null});case"LOADING":return Object(c.a)({},e,{isLoading:!0});default:return e}},m=Object(n.createContext)(),p={value:null,isLoading:!1},d=function(e){var t=Object(n.useReducer)(s,p),a=Object(i.a)(t,2),l=a[0],o=a[1];return r.a.createElement(m.Provider,{value:{user:l,dispatch:o}},e.children)},f=a(79),h=a.n(f),E=(a(110),a(115),h.a.initializeApp({apiKey:"AIzaSyCGeSN-_x9mz-UlrZSkM2vFekZtMcg83eQ",authDomain:"weather-94ff6.firebaseapp.com",databaseURL:"https://weather-94ff6.firebaseio.com",projectId:"weather-94ff6",storageBucket:"weather-94ff6.appspot.com",messagingSenderId:"687672487778",appId:"1:687672487778:web:f90fc3a022df67f053063b"})),v=a(36),g=a(25),b=a(160),y=a(186),O=a(187),j=a(182),x=a(165),w=a(166),I=a(167),S=a(126),C=a(168),N=a(184),k=a(86),A=a.n(k),L=a(72),D=a.n(L),P=a(82),W=a.n(P),U=a(56),z=a.n(U),B=a(83),T=a.n(B),G=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2),fontSize:26},title:{flexGrow:1},linksList:{width:200},buttons:{fontWeight:500,fontSize:14}}})),F=function(){var e=G(),t=Object(n.useState)({menuOpen:!1}),a=Object(i.a)(t,2),l=a[0],o=a[1],u=Object(n.useContext)(m),s=u.user,p=u.dispatch,d=Object(v.g)(),f=[{name:"Main",icon:"DashboardIcon",path:"/"},{name:"Profile",icon:"AccountCircleIcon",path:"/profile"}],h=[{name:"Sign Up",icon:"AccountBoxIcon",path:"/signup"},{name:"Log In",icon:"AccountCircleIcon",path:"/login"}],b=function(t){switch(t){case"Main":return r.a.createElement(D.a,{className:e.menuButton});case"Profile":case"Log In":return r.a.createElement(W.a,{className:e.menuButton});case"Log Out":return r.a.createElement(T.a,{className:e.menuButton});case"Sign Up":return r.a.createElement(z.a,{className:e.menuButton});default:return r.a.createElement(D.a,{className:e.menuButton})}},k=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&o(Object(c.a)({},l,{menuOpen:e}))}};return r.a.createElement("div",{className:e.root},r.a.createElement(x.a,{position:"fixed",color:"primary"},r.a.createElement(w.a,null,r.a.createElement(I.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:k(!0)},r.a.createElement(A.a,null)),r.a.createElement(S.a,{variant:"h6",className:e.title},r.a.createElement(C.a,{color:"primary",variant:"contained",component:g.b,to:"/",className:e.buttons},"Weather")),s.value?r.a.createElement(C.a,{color:"inherit",onClick:function(){E.auth().signOut().then((function(){p({type:"LOG_OUT"}),d.push("/")})).catch((function(e){console.log(e.message)}))}},"Logout"):null)),r.a.createElement(N.a,{open:l.menuOpen,onClose:k(!1),onOpen:k(!0)},r.a.createElement("div",{role:"presentation",onClick:k(!1),onKeyDown:k(!1)},r.a.createElement(y.a,{className:e.linksList},s.value?f.map((function(e,t){return r.a.createElement(O.a,{button:!0,component:g.b,to:e.path,key:t},b(e.name),r.a.createElement(j.a,{fontSize:16,ml:1},e.name))})):h.map((function(e,t){return r.a.createElement(O.a,{button:!0,component:g.b,to:e.path,key:t},b(e.name),r.a.createElement(j.a,{fontSize:16,ml:1},e.name))}))))))},M=a(49),R=a.n(M),_=a(58),V=a(181),J=a(170),K=a(183),Z=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],o=a[1],u=Object(n.useState)({value:!1}),s=Object(i.a)(u,2),m=s[0],p=s[1],d=Object(n.useState)({value:!1}),f=Object(i.a)(d,2),h=f[0],E=f[1],v=function(){var e=Object(_.a)(R.a.mark((function e(){var t,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./API/cityList.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,o(a),E({value:!1});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{options:l,getOptionLabel:function(e){return e.city},open:m.value,style:{width:300},renderInput:function(e){return r.a.createElement(V.a,Object.assign({},e,{label:"City Search",variant:"outlined",name:"city",InputProps:Object(c.a)({},e.InputProps,{endAdornment:r.a.createElement(r.a.Fragment,null,h.value?r.a.createElement(J.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))},loading:h.value,onOpen:function(){p({value:!0}),E({value:!0}),v()},onClose:function(){p({value:!1}),o([])},onChange:function(t,a){return e.findCity(a)}}))},H=Object(b.a)((function(e){return{root:{maxWidth:400,height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center"},title:{fontSize:150,color:"white",textAlign:"center"},text:{fontSize:20,color:"white",fontWeight:500},city:{color:"white"}}})),Q=function(e){var t=e.city,a=H();console.log(t.value);var l=Object(n.useState)({value:null}),o=Object(i.a)(l,2),c=o[0],u=o[1];console.log(c),Object(n.useEffect)((function(){console.log("usee effect fired");var e=function(){var e=Object(_.a)(R.a.mark((function e(){var a,n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.value.id,e.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?id=".concat(a,"&appid=667259d3e642f1444ef8a44dc01be273"));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,u({value:r});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.value&&e()}),[t.value]);var s,m,p;return c.value&&(s="https://openweathermap.org/themes/openweathermap/assets/vendor/owm/img/widgets/".concat(c.value.weather[0].icon,".png")),c.value?r.a.createElement(j.a,null,r.a.createElement(S.a,{variant:"h1",component:"h2",color:"textSecondary",className:a.title},(p=c.value.main.temp,Math.round(p-273.15)+"\xb0c")),r.a.createElement(j.a,{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",className:a.text},r.a.createElement(j.a,{display:"flex",justifyContent:"space-around",alignItems:"center"},r.a.createElement(S.a,{variant:"h4",component:"h2",color:"textSecondary",className:a.city},c.value.name,":"),r.a.createElement("img",{src:s,alt:"weather icon"})),r.a.createElement(j.a,null,"Wind: ",(m=c.value.wind.speed,Math.round(1.609*m)),"km/h"),r.a.createElement(j.a,null,"Humidity: ",c.value.main.humidity," %"),r.a.createElement(j.a,null,"Pressure: ",c.value.main.pressure," hPa"))):null},$=a(171),q=Object(b.a)((function(e){return{root:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}})),X=function(){var e=q(),t=Object(n.useState)({value:null}),a=Object(i.a)(t,2),l=a[0],o=a[1];return r.a.createElement($.a,{className:e.root},r.a.createElement(Z,{findCity:function(e){o({value:e})}}),l?r.a.createElement(Q,{city:l}):null)},Y=function(){return r.a.createElement("main",null,r.a.createElement($.a,null,r.a.createElement(X,null)))},ee=a(172),te=a(125),ae=a(173),ne=a(174),re=a(175),le=a(176),oe=a(177),ce=Object(b.a)((function(e){return{root:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center"}}})),ie=function(){var e=ce(),t=Object(n.useContext)(m).user;return r.a.createElement($.a,{className:e.root},r.a.createElement(ee.a,{component:te.a},r.a.createElement(ae.a,{className:e.table,"aria-label":"simple table"},r.a.createElement(ne.a,null,r.a.createElement(re.a,null,r.a.createElement(le.a,null,r.a.createElement("strong",null,"User email:")),r.a.createElement(le.a,null,r.a.createElement("strong",null,"Verified: ")))),r.a.createElement(oe.a,null,r.a.createElement(re.a,null,r.a.createElement(le.a,null,t.value.user.email),r.a.createElement(le.a,null,t.value.user.emailVerified?"Verified":"Not verified"))))))},ue=a(43),se=a(178),me=a(61),pe=a.n(me),de=a(89),fe=a.n(de),he=a(62),Ee=a.n(he),ve=Object(b.a)((function(e){return{root:{maxWidth:400,height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},fonts:{fontWeight:"600",textDecoration:"underline",textAlign:"center"},cursor:{cursor:"pointer"}}})),ge=function(){var e=ve(),t=Object(n.useState)({name:"",username:"",email:"",password:""}),a=Object(i.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)({value:null}),p=Object(i.a)(s,2),d=p[0],f=p[1],h=Object(n.useState)({show:!1}),b=Object(i.a)(h,2),y=b[0],O=b[1],x=Object(n.useContext)(m),w=x.dispatch,I=x.user,N=Object(v.g)(),k=function(e){var t=Object(c.a)({},l);t[e.target.name]=e.target.value,o(t)};return I.isLoading?r.a.createElement($.a,{className:e.root},r.a.createElement(J.a,{variant:"indeterminate",color:"secondary",size:"80px"})):r.a.createElement(ue.b.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:160,damping:20},exit:{scale:0}},r.a.createElement($.a,{className:e.root},r.a.createElement(S.a,{variant:"h4",component:"h2",color:"textSecondary"},"Sign Up:"),r.a.createElement("form",{id:"signupForm"},r.a.createElement(V.a,{fullWidth:!0,margin:"normal",placeholder:"Enter your name...",id:"name",name:"name",label:"Name",helperText:"",variant:"outlined",value:l.name,InputProps:{startAdornment:r.a.createElement(se.a,{position:"start"},r.a.createElement(fe.a,{color:"primary"}))},onInput:function(e){return k(e)}}),r.a.createElement(V.a,{fullWidth:!0,margin:"normal",placeholder:"Enter username...",id:"username",name:"username",label:"Username",helperText:"",variant:"outlined",value:l.username,InputProps:{startAdornment:r.a.createElement(se.a,{position:"start"},r.a.createElement(z.a,{color:"primary"}))},onInput:function(e){return k(e)}}),r.a.createElement(V.a,{fullWidth:!0,margin:"normal",placeholder:"Enter email...",id:"email",name:"email",label:"Email",helperText:"",variant:"outlined",value:l.email,InputProps:{startAdornment:r.a.createElement(se.a,{position:"start"},r.a.createElement(pe.a,{color:"primary"}))},onInput:function(e){return k(e)}}),r.a.createElement(V.a,{autoComplete:"true",fullWidth:!0,margin:"normal",placeholder:"Enter password...",id:"password",name:"password",label:"Password",helperText:"",variant:"outlined",value:l.password,type:y.show?"text":"password",InputProps:{startAdornment:r.a.createElement(se.a,{position:"start"},r.a.createElement(Ee.a,{className:e.cursor,color:"primary",onClick:function(){return function(){var e=y.show;O({show:!e})}()}}))},onInput:function(e){return k(e)}}),d?r.a.createElement(S.a,{color:"error",className:e.fonts},d.value):null,r.a.createElement(j.a,{display:"flex",justifyContent:"space-around",alignItems:"center",mt:3},r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:function(e){return function(e){e.preventDefault();var t=l.name,a=l.username,n=l.email,r=l.password;t&&a&&n&&r?(w({type:"LOADING"}),E.firestore().collection("users").doc(a).get().then((function(e){e.exists?f({value:"Username already exists!"}):E.auth().createUserWithEmailAndPassword(n,r).then((function(e){console.log(e),E.firestore().collection("users").doc(a).set({name:t,username:a,email:n,id:e.user.uid}).then((function(){console.log("success")})).catch((function(e){console.log(e.message)})),w(u(e)),o({name:null,username:null,email:null,password:null}),f({value:null}),N.push("/")})).catch((function(e){f({value:e.message})}))}))):f({value:"Fill in all fields!"})}(e)}},"Sign Up"),r.a.createElement(C.a,{variant:"contained",color:"secondary",component:g.b,to:"/login"},"Log In")))))},be=Object(b.a)((function(e){return{root:{maxWidth:400,height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},fonts:{fontWeight:"600",textDecoration:"underline",textAlign:"center"},cursor:{cursor:"pointer"}}})),ye=function(){var e=be(),t=Object(n.useState)({email:null,password:null}),a=Object(i.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)({value:null}),p=Object(i.a)(s,2),d=p[0],f=p[1],h=Object(n.useState)({show:!1}),b=Object(i.a)(h,2),y=b[0],O=b[1],x=Object(n.useContext)(m),w=x.dispatch,I=x.user,N=Object(v.g)(),k=function(e){var t=Object(c.a)({},l);t[e.target.name]=e.target.value,o(t)};return I.isLoading?r.a.createElement($.a,{className:e.root},r.a.createElement(J.a,{variant:"indeterminate",color:"secondary",size:"80px"})):r.a.createElement(ue.b.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0}},r.a.createElement($.a,{className:e.root},r.a.createElement(S.a,{variant:"h4",component:"h2",color:"textSecondary"},"Log In:"),r.a.createElement("form",null,r.a.createElement(V.a,{fullWidth:!0,margin:"normal",placeholder:"Enter email...",id:"email",name:"email",label:"Email",helperText:"",variant:"outlined",InputProps:{startAdornment:r.a.createElement(se.a,{position:"start"},r.a.createElement(pe.a,{color:"primary"}))},onInput:function(e){return k(e)}}),r.a.createElement(V.a,{autoComplete:"true",fullWidth:!0,margin:"normal",placeholder:"Enter password...",id:"password",name:"password",label:"Password",helperText:"",variant:"outlined",type:y.show?"text":"password",InputProps:{startAdornment:r.a.createElement(se.a,{position:"start"},r.a.createElement(Ee.a,{className:e.cursor,color:"primary",onClick:function(){return function(){var e=y.show;O({show:!e})}()}}))},onInput:function(e){return k(e)}}),d?r.a.createElement(S.a,{color:"error",className:e.fonts},d.value):null,r.a.createElement(j.a,{display:"flex",justifyContent:"space-around",alignItems:"center",mt:3},r.a.createElement(C.a,{variant:"contained",color:"primary",onClick:function(e){return function(e){e.preventDefault();var t=l.email,a=l.password;t&&a?(w({type:"LOADING"}),E.auth().signInWithEmailAndPassword(t,a).then((function(e){w(u(e)),o({email:null,password:null}),console.log(I),f({value:null}),N.push("/")})).catch((function(e){f({value:e.message})}))):f({value:"Fill in all fields!"})}(e)}},"Log In"),r.a.createElement(C.a,{variant:"contained",color:"secondary",component:g.b,to:"/signup"},"Sign Up")))))},Oe=a(91),je=function(e){var t=e.component,a=Object(Oe.a)(e,["component"]),l=Object(n.useContext)(m).user;return r.a.createElement(v.b,Object.assign({},a,{render:function(e){return l.value?r.a.createElement(t,e):r.a.createElement(v.a,{to:"/login"})}}))},xe=a(90),we=a(180),Ie=a(179),Se=a(63),Ce=a(64),Ne=Object(xe.a)({palette:{primary:Ie.a,secondary:Se.a},status:{danger:Ce.a},root:{}}),ke=Object(b.a)((function(e){return{root:{padding:"15px"}}}));var Ae=function(){var e=ke();return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,null,r.a.createElement(we.a,{theme:Ne},r.a.createElement(F,null),r.a.createElement(ue.a,{exitBeforeEnter:!0},r.a.createElement(v.d,null,r.a.createElement(je,{exact:!0,path:"/",component:Y}),r.a.createElement(je,{exact:!0,path:"/profile",component:ie}),r.a.createElement(v.b,{exact:!0,path:"/signup",component:ge}),r.a.createElement(v.b,{exact:!0,path:"/login",component:ye}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(d,null,r.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[101,1,2]]]);
//# sourceMappingURL=main.f56fbe08.chunk.js.map